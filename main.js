/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var e=function(){function e(t){var n=t.baseUrl,r=t.headers;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=r}var n,r;return n=e,(r=[{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then((function(t){if(t.ok)return t.json()}))}},{key:"getInitialUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then((function(t){if(t.ok)return t.json()}))}},{key:"pathUserInfo",value:function(t){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t.name,about:t.about})}).then((function(t){if(t.ok)return t.json()}))}},{key:"postCard",value:function(t){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t.name,link:t.link})}).then((function(t){if(t.ok)return t.json()}))}},{key:"deleteCard",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t),{method:"DELETE",headers:this._headers})}},{key:"putCardLike",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this._headers}).then((function(t){if(t.ok)return t.json()}))}},{key:"deleteCardLike",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:this._headers}).then((function(t){if(t.ok)return t.json()}))}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function t(e){var n=e.containerSelector,r=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._container=document.querySelector(n),this._renderer=r}var e,r;return e=t,(r=[{key:"setItem",value:function(t){this._container.prepend(t)}},{key:"_clear",value:function(){this._container.innerHTML=""}},{key:"renderItems",value:function(t){var e=this;this._clear(),t.forEach((function(t){e._renderer(t)}))}}])&&n(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e){var n=e.data,r=e.templateSelector,o=e.userId,i=e.handleDeleteBtnClick,u=e.handleLikeBtnClick,a=e.handleCardClick;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=n.name,this._link=n.link,this._likes=n.likes,this._ownerId=n.owner._id,this.id=n._id,this._templateSelector=r,this._userId=o,this._handleCardClick=a,this._handleDeleteBtnClick=i,this._handleLikeBtnClick=u}var e,n;return e=t,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".gallery__list-element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._nameElement=this._element.querySelector(".gallery__name"),this._photoElement=this._element.querySelector(".gallery__photo"),this._likeElement=this._element.querySelector(".gallery__like-btn"),this._trashElement=this._element.querySelector(".gallery__trash"),this._countLikesElement=this._element.querySelector(".gallery__like-count"),this._nameElement.textContent=this._name,this._photoElement.src=this._link,this._photoElement.alt=this._name,this._renderLikeContainer(),this._isUserOwner()||this._deleteTrashElement(),this._setEventListeners(),this._element}},{key:"_renderLikeContainer",value:function(){this._countLikesElement.textContent=this._likes.length,this._isUserLiked()?this._likeElement.classList.add("gallery__like-btn_active"):this._likeElement.classList.remove("gallery__like-btn_active")}},{key:"_isUserLiked",value:function(){var t=this;return this._likes.some((function(e){return e._id===t._userId}))}},{key:"_isUserOwner",value:function(){return this._userId===this._ownerId}},{key:"_deleteTrashElement",value:function(){this._trashElement.remove()}},{key:"_setEventListeners",value:function(){var t=this;this._likeElement.addEventListener("click",(function(){t._handleLikeBtnClick()})),this._trashElement.addEventListener("click",(function(){t._handleDeleteBtnClick()})),this._photoElement.addEventListener("click",(function(){t._handleCardClick()}))}},{key:"deleteCard",value:function(){this._element.remove(),this._element=null}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(e){var n=e.nameSelector,r=e.aboutSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userName=document.querySelector(n),this._userAbout=document.querySelector(r)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{"user-name":this._userName.textContent,"user-about":this._userAbout.textContent}}},{key:"setUserInfo",value:function(t){var e=t.name,n=t.about;this._userName.textContent=e,this._userAbout.textContent=n}}])&&u(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popupSelector=e,this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),window.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),window.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._popup.addEventListener("mousedown",(function(e){e.target.classList.contains("popup_opened")&&t.close(),e.target.classList.contains("popup__close-btn")&&t.close()}))}}])&&c(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=h(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},p.apply(this,arguments)}function h(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}function d(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_(r);if(o){var n=_(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function u(t){var e,n=t.popupSelector;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,n))._popupImg=e._popup.querySelector(".popup__photo"),e._popupNameValue=e._popup.querySelector(".popup__photo-name"),e}return e=u,(n=[{key:"open",value:function(t){var e=t.name,n=t.link;p(_(u.prototype),"open",this).call(this),this._popupImg.src=n,this._popupImg.alt=e,this._popupNameValue.textContent=e}}])&&f(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(l);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=w(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},g.apply(this,arguments)}function w(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=E(t)););return t}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}function S(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function E(t){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},E(t)}var L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=E(r);if(o){var n=E(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return S(this,t)});function u(t){var e,n=t.popupSelector,r=t.handleFormSubmit;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,n))._handleFormSubmit=r,e._popupForm=e._popup.querySelector(".popup__form"),e._inputsValue={},e._formInputs=e._popup.querySelectorAll(".popup__input"),e._btnSubmit=e._popupForm.querySelector(".popup__save-btn"),e._btnSubmitTextValue=e._btnSubmit.textContent,e}return e=u,(n=[{key:"close",value:function(){g(E(u.prototype),"close",this).call(this),this._popupForm.reset()}},{key:"setInputValue",value:function(t){this._formInputs.forEach((function(e){e.value=t[e.name]}))}},{key:"setLoadnigIsBtn",value:function(t){t?(this._btnSubmit.disabled=!0,this._btnSubmit.textContent="Сохранение..."):(this._btnSubmit.disabled=!1,this._btnSubmit.textContent=this._btnSubmitTextValue)}},{key:"_getInputValues",value:function(){var t=this;return this._formInputs.forEach((function(e){var n=e.getAttribute("name");t._inputsValue[n]=e.value})),this._inputsValue}},{key:"setEventListeners",value:function(){var t=this;g(E(u.prototype),"setEventListeners",this).call(this),this._popup.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit(t._getInputValues())}))}}])&&b(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(l);function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=I(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},C.apply(this,arguments)}function I(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}function P(t,e){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},P(t,e)}function x(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}var B=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=T(r);if(o){var n=T(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return x(this,t)});function u(t){var e,n=t.popupSelector,r=t.handleFormSubmit;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,n))._handleFormSubmit=r,e._popupForm=e._popup.querySelector(".popup__form"),e._btnSubmit=e._popupForm.querySelector(".popup__save-btn"),e._btnSubmitTextValue=e._btnSubmit.textContent,e.cardId=null,e}return e=u,(n=[{key:"close",value:function(){C(T(u.prototype),"close",this).call(this)}},{key:"open",value:function(t){C(T(u.prototype),"open",this).call(this),this.card=t}},{key:"setLoadnigIsBtn",value:function(t){t?(this._btnSubmit.disabled=!0,this._btnSubmit.textContent="Удаление..."):(this._btnSubmit.disabled=!1,this._btnSubmit.textContent=this._btnSubmitTextValue)}},{key:"setEventListeners",value:function(){var t=this;C(T(u.prototype),"setEventListeners",this).call(this),this._popup.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit(t.cardId)}))}}])&&j(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(l);function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var q=function(){function t(e){var n=e.config,r=e.formElement;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._formSelector=n.formSelector,this._inputSelector=n.inputSelector,this._submitButtonSelector=n.submitButtonSelector,this._inactiveButtonSelector=n.inactiveButtonSelector,this._inputErrorSelector=n.inputErrorSelector,this._errorSelector=n.errorSelector,this._formElement=r,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}var e,n;return e=t,(n=[{key:"_showInputError",value:function(t,e){this._errorElement=this._formElement.querySelector("#".concat(t.id,"-error")),t.classList.add(this._inputErrorSelector),this._errorElement.textContent=e,this._errorElement.classList.add(this._errorSelector)}},{key:"_hideInputError",value:function(t){this._errorElement=this._formElement.querySelector("#".concat(t.id,"-error")),t.classList.remove(this._inputErrorSelector),this._errorElement.classList.remove(this._errorSelector),this._errorElement.textContent=""}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t,t.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._inactiveButtonSelector),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._inactiveButtonSelector),this._buttonElement.disabled=!1)}},{key:"_setEventListeners",value:function(){var t=this;this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"resetValidation",value:function(){var t=this;this._toggleButtonState(),this._inputList.forEach((function(e){t._hideInputError(e)}))}}])&&R(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),U=document.querySelector(".profile"),V=U.querySelector(".profile__edit-btn"),F=U.querySelector(".profile__add-btn"),N={};function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function A(){A=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof p?e:p,u=Object.create(i.prototype),a=new L(o||[]);return r(u,"_invoke",{value:w(t,n,a)}),u}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function h(){}function y(){}var d={};c(d,i,(function(){return this}));var _=Object.getPrototypeOf,m=_&&_(_(O([])));m&&m!==e&&n.call(m,i)&&(d=m);var v=y.prototype=p.prototype=Object.create(d);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function o(r,i,u,a){var c=s(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==D(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,u,a)}),(function(t){o("throw",t,u,a)})):e.resolve(f).then((function(t){l.value=t,u(l)}),(function(t){return o("throw",t,u,a)}))}a(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var u=n.delegate;if(u){var a=k(u,n);if(a){if(a===f)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function O(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=y,r(v,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:h,configurable:!0}),h.displayName=c(y,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(g.prototype),c(g.prototype,u,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var u=new g(l(e,n,r,o),i);return t.isGeneratorFunction(n)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},b(v),c(v,a,"Generator"),c(v,i,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=O,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return u.type="throw",u.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var a=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:O(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function G(t,e,n,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}var H=null,J=new e({baseUrl:"https://nomoreparties.co/v1/cohort-55",headers:{authorization:"5b60ccac-c30f-46d8-b7b2-7f9c7f002bee","Content-Type":"application/json"}}),M=new a({nameSelector:".profile__user-name",aboutSelector:".profile__user-about"}),Y=new m({popupSelector:"#popup_gallery_item"}),z=new B({popupSelector:"#popup_delete_item",handleFormSubmit:function(){z.setLoadnigIsBtn(!0),J.deleteCard(z.card.id).then((function(){z.card.deleteCard()})).catch((function(t){console.log(t)})).finally((function(){z.setLoadnigIsBtn(!1),z.close()}))}}),K=new L({popupSelector:"#popup_profile",handleFormSubmit:function(t){N["profile-form"].resetValidation(),K.setLoadnigIsBtn(!0),J.pathUserInfo({name:t["user-name"],about:t["user-about"]}).then((function(t){M.setUserInfo(t)})).catch((function(t){console.log(t)})).finally((function(){K.setLoadnigIsBtn(!1),K.close()}))}}),Q=new L({popupSelector:"#popup_gallery",handleFormSubmit:function(t){Q.setLoadnigIsBtn(!0),J.postCard({name:t["photo-name"],link:t["photo-link"]}).then((function(t){W(t)})).catch((function(t){console.log(t)})).finally((function(){Q.setLoadnigIsBtn(!1),Q.close()}))}});function W(t){var e=function(t){var e=new i({data:t,templateSelector:"#gallery-item-template",userId:H,handleDeleteBtnClick:function(){z.open(e)},handleLikeBtnClick:function(){e._isUserLiked()?J.deleteCardLike(e.id).then((function(t){e._likes=t.likes,e._renderLikeContainer()})).catch((function(t){console.log(t)})):J.putCardLike(e.id).then((function(t){e._likes=t.likes,e._renderLikeContainer()})).catch((function(t){console.log(t)}))},handleCardClick:function(){Y.open({name:e._name,link:e._link})}});return e.generateCard()}(t);Z.setItem(e)}Y.setEventListeners(),K.setEventListeners(),Q.setEventListeners(),z.setEventListeners();var X,Z=new r({containerSelector:".gallery__list",renderer:function(t){W(t)}});(function(){var t,e=(t=A().mark((function t(){return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.getInitialUserInfo().then((function(t){H=t._id,M.setUserInfo(t)})).catch((function(t){console.log(t)}));case 2:return t.next=4,J.getInitialCards().then((function(t){Z.renderItems(t.reverse())})).catch((function(t){console.log(t)}));case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){G(i,r,o,u,a,"next",t)}function a(t){G(i,r,o,u,a,"throw",t)}u(void 0)}))});return function(){return e.apply(this,arguments)}})()(),X={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__save-btn",inactiveButtonSelector:"popup__save-btn_disabled",inputErrorSelector:"popup__input_type_error",errorSelector:"popup__input-error_active"},Array.from(document.querySelectorAll(X.formSelector)).forEach((function(t){var e=new q({config:X,formElement:t}),n=t.getAttribute("name");N[n]=e,e.enableValidation()})),V.addEventListener("click",(function(){K.setInputValue(M.getUserInfo()),N["profile-form"].resetValidation(),K.open()})),F.addEventListener("click",(function(){N["card-form"].resetValidation(),Q.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNSQyxZQUFhQSxJQUVUdUUsRUFBV3ZFLEVBQVlQLGFBQWEsUUFDMUN1QyxFQUFldUMsR0FBWUQsRUFDM0JBLEVBQVVFLGtCQUNaLElBS0YxQyxFQUFtQjFFLGlCQUFpQixTQUFTLFdBQzNDMEYsRUFBaUIyQixjQUFjckMsRUFBU3NDLGVBQ3hDMUMsRUFBZSxnQkFBZ0JnQixrQkFDL0JGLEVBQWlCUyxNQUNuQixJQUVBeEIsRUFBeUIzRSxpQkFBaUIsU0FBUyxXQUNqRDRFLEVBQWUsYUFBYWdCLGtCQUM1QkcsRUFBZUksTUFDakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aNChb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGdldEluaXRpYWxVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHBhdGhVc2VySW5mbyhkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIGFib3V0OiBkYXRhLmFib3V0XG4gICAgICB9KVxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHBvc3RDYXJkKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICBsaW5rOiBkYXRhLmxpbmtcbiAgICAgIH0pXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pO1xuICB9XG5cbiAgcHV0Q2FyZExpa2UoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVDYXJkTGlrZShjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGNvbnRhaW5lclNlbGVjdG9yLCByZW5kZXJlcn0pIHtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG5cbiAgc2V0SXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cblxuICBfY2xlYXIoKSB7XG4gICAgdGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcbiAgICB0aGlzLl9jbGVhcigpO1xuICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgZGF0YSxcbiAgICB0ZW1wbGF0ZVNlbGVjdG9yLFxuICAgIHVzZXJJZCxcbiAgICBoYW5kbGVEZWxldGVCdG5DbGljayxcbiAgICBoYW5kbGVMaWtlQnRuQ2xpY2ssXG4gICAgaGFuZGxlQ2FyZENsaWNrLFxuICB9KSB7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XG4gICAgdGhpcy5pZCA9IGRhdGEuX2lkO1xuICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQnRuQ2xpY2sgPSBoYW5kbGVEZWxldGVCdG5DbGljaztcbiAgICB0aGlzLl9oYW5kbGVMaWtlQnRuQ2xpY2sgPSBoYW5kbGVMaWtlQnRuQ2xpY2s7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fbGlzdC1lbGVtZW50XCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuXG4gICAgdGhpcy5fbmFtZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fbmFtZVwiKTtcbiAgICB0aGlzLl9waG90b0VsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fcGhvdG9cIik7XG4gICAgdGhpcy5fbGlrZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fbGlrZS1idG5cIik7XG4gICAgdGhpcy5fdHJhc2hFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX3RyYXNoXCIpO1xuICAgIHRoaXMuX2NvdW50TGlrZXNFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIuZ2FsbGVyeV9fbGlrZS1jb3VudFwiXG4gICAgKTtcblxuICAgIHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9waG90b0VsZW1lbnQuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9waG90b0VsZW1lbnQuYWx0ID0gdGhpcy5fbmFtZTtcblxuICAgIHRoaXMuX3JlbmRlckxpa2VDb250YWluZXIoKTtcblxuICAgIGlmICghdGhpcy5faXNVc2VyT3duZXIoKSkge1xuICAgICAgdGhpcy5fZGVsZXRlVHJhc2hFbGVtZW50KCk7XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuXG4gIF9yZW5kZXJMaWtlQ29udGFpbmVyKCkge1xuICAgIHRoaXMuX2NvdW50TGlrZXNFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuXG4gICAgdGhpcy5faXNVc2VyTGlrZWQoKVxuICAgICAgPyB0aGlzLl9saWtlRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZ2FsbGVyeV9fbGlrZS1idG5fYWN0aXZlXCIpXG4gICAgICA6IHRoaXMuX2xpa2VFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJnYWxsZXJ5X19saWtlLWJ0bl9hY3RpdmVcIik7XG4gIH1cblxuICBfaXNVc2VyTGlrZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUoKGl0ZW0pID0+IHtcbiAgICAgIHJldHVybiBpdGVtLl9pZCA9PT0gdGhpcy5fdXNlcklkO1xuICAgIH0pO1xuICB9XG5cbiAgX2lzVXNlck93bmVyKCkge1xuICAgIHJldHVybiB0aGlzLl91c2VySWQgPT09IHRoaXMuX293bmVySWQ7XG4gIH1cblxuICBfZGVsZXRlVHJhc2hFbGVtZW50KCkge1xuICAgIHRoaXMuX3RyYXNoRWxlbWVudC5yZW1vdmUoKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9saWtlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlTGlrZUJ0bkNsaWNrKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fdHJhc2hFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVCdG5DbGljaygpO1xuICAgIH0pO1xuICAgIHRoaXMuX3Bob3RvRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKCk7XG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBhYm91dFNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl91c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl91c2VyQWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFib3V0U2VsZWN0b3IpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICd1c2VyLW5hbWUnOiB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCxcbiAgICAgICd1c2VyLWFib3V0JzogdGhpcy5fdXNlckFib3V0LnRleHRDb250ZW50XG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl91c2VyQWJvdXQudGV4dENvbnRlbnQgPSBhYm91dDtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IgPSBwb3B1cFNlbGVjdG9yO1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4ge1xuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9vcGVuZWQnKSkge1xuICAgICAgICB0aGlzLmNsb3NlKClcbiAgICAgIH1cbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX2Nsb3NlLWJ0bicpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3B1cEltZyA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGhvdG8nKTtcbiAgICB0aGlzLl9wb3B1cE5hbWVWYWx1ZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGhvdG8tbmFtZScpO1xuICB9XG5cbiAgb3Blbih7IG5hbWUsIGxpbmsgfSkge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICB0aGlzLl9wb3B1cEltZy5zcmMgPSBsaW5rO1xuICAgIHRoaXMuX3BvcHVwSW1nLmFsdCA9IG5hbWU7XG4gICAgdGhpcy5fcG9wdXBOYW1lVmFsdWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG4gICAgdGhpcy5faW5wdXRzVmFsdWUgPSB7fTtcbiAgICB0aGlzLl9mb3JtSW5wdXRzID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIik7XG4gICAgdGhpcy5fYnRuU3VibWl0ID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3NhdmUtYnRuXCIpO1xuICAgIHRoaXMuX2J0blN1Ym1pdFRleHRWYWx1ZSA9IHRoaXMuX2J0blN1Ym1pdC50ZXh0Q29udGVudDtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XG4gIH1cblxuICBzZXRJbnB1dFZhbHVlKGRhdGEpIHtcbiAgICB0aGlzLl9mb3JtSW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC52YWx1ZSA9IGRhdGFbaW5wdXQubmFtZV07XG4gICAgfSk7XG4gIH1cblxuICBzZXRMb2FkbmlnSXNCdG4oaXNMb2FkaW5nKSB7XG4gICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgdGhpcy5fYnRuU3VibWl0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuX2J0blN1Ym1pdC50ZXh0Q29udGVudCA9IFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYnRuU3VibWl0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICB0aGlzLl9idG5TdWJtaXQudGV4dENvbnRlbnQgPSB0aGlzLl9idG5TdWJtaXRUZXh0VmFsdWU7XG4gICAgfVxuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2Zvcm1JbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0TmFtZSA9IGlucHV0LmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XG4gICAgICB0aGlzLl9pbnB1dHNWYWx1ZVtpbnB1dE5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0c1ZhbHVlO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRo0KFvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0IH0pIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuICAgIHRoaXMuX2J0blN1Ym1pdCA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19zYXZlLWJ0blwiKTtcbiAgICB0aGlzLl9idG5TdWJtaXRUZXh0VmFsdWUgPSB0aGlzLl9idG5TdWJtaXQudGV4dENvbnRlbnQ7XG4gICAgdGhpcy5jYXJkSWQgPSBudWxsO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgfVxuXG4gIG9wZW4oY2FyZCkge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICB0aGlzLmNhcmQgPSBjYXJkO1xuICB9XG5cbiAgc2V0TG9hZG5pZ0lzQnRuKGlzTG9hZGluZykge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX2J0blN1Ym1pdC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0aGlzLl9idG5TdWJtaXQudGV4dENvbnRlbnQgPSBcItCj0LTQsNC70LXQvdC40LUuLi5cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYnRuU3VibWl0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICB0aGlzLl9idG5TdWJtaXQudGV4dENvbnRlbnQgPSB0aGlzLl9idG5TdWJtaXRUZXh0VmFsdWU7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLmNhcmRJZCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoeyBjb25maWcsIGZvcm1FbGVtZW50IH0pIHtcbiAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBjb25maWcuZm9ybVNlbGVjdG9yO1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvblNlbGVjdG9yID0gY29uZmlnLmluYWN0aXZlQnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5wdXRFcnJvclNlbGVjdG9yID0gY29uZmlnLmlucHV0RXJyb3JTZWxlY3RvcjtcbiAgICB0aGlzLl9lcnJvclNlbGVjdG9yID0gY29uZmlnLmVycm9yU2VsZWN0b3I7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvclNlbGVjdG9yKTtcbiAgfTtcblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JTZWxlY3Rvcik7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JTZWxlY3Rvcik7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gIH07XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWRcbiAgICAgID8gdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KVxuICAgICAgOiB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gIH07XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH07XG5cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25TZWxlY3Rvcik7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25TZWxlY3Rvcik7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9O1xuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgfTtcbn1cbiIsImV4cG9ydCBjb25zdCBwb3B1cFBob3RvSXRlbVNlbGVjdG9yID0gJyNwb3B1cF9nYWxsZXJ5X2l0ZW0nO1xuZXhwb3J0IGNvbnN0IHBvcHVwRGVsZXRlSXRlbVNlbGVjdG9yID0gJyNwb3B1cF9kZWxldGVfaXRlbSc7XG5leHBvcnQgY29uc3QgcG9wdXBFZGl0UHJvZmlsZVNlbGVjdG9yID0gJyNwb3B1cF9wcm9maWxlJztcbmV4cG9ydCBjb25zdCBwb3B1cEFkZFBob3RvU2VsZWN0b3IgPSAnI3BvcHVwX2dhbGxlcnknO1xuXG5leHBvcnQgY29uc3QgcHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlJyk7XG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRJbmZvQnRuID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idG4nKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQWRkR2FsbGVyeUl0ZW1CdG4gPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnRuJyk7XG5cbmV4cG9ydCBjb25zdCBnYWxsZXJ5TGlzdFNlbGVjdG9yID0gJy5nYWxsZXJ5X19saXN0JztcblxuZXhwb3J0IGNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge307XG5cbmV4cG9ydCBjb25zdCBjb25maWdWYWxpZGF0b3IgPSB7XG4gIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fZm9ybScsXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX3NhdmUtYnRuJyxcbiAgaW5hY3RpdmVCdXR0b25TZWxlY3RvcjogJ3BvcHVwX19zYXZlLWJ0bl9kaXNhYmxlZCcsXG4gIGlucHV0RXJyb3JTZWxlY3RvcjogJ3BvcHVwX19pbnB1dF90eXBlX2Vycm9yJyxcbiAgZXJyb3JTZWxlY3RvcjogJ3BvcHVwX19pbnB1dC1lcnJvcl9hY3RpdmUnXG59O1xuIiwiaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IHsgUG9wdXBXaXRoSW1hZ2UgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCB7IFBvcHVwV2l0aNChb25maXJtYXRpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGjQoW9uZmlybWF0aW9uLmpzXCI7XG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuXG5sZXQgdXNlcklkID0gbnVsbDtcblxuaW1wb3J0IHtcbiAgcG9wdXBQaG90b0l0ZW1TZWxlY3RvcixcbiAgcG9wdXBFZGl0UHJvZmlsZVNlbGVjdG9yLFxuICBwb3B1cEFkZFBob3RvU2VsZWN0b3IsXG4gIHBvcHVwRGVsZXRlSXRlbVNlbGVjdG9yLFxuICBwcm9maWxlRWRpdEluZm9CdG4sXG4gIHByb2ZpbGVBZGRHYWxsZXJ5SXRlbUJ0bixcbiAgZ2FsbGVyeUxpc3RTZWxlY3RvcixcbiAgZm9ybVZhbGlkYXRvcnMsXG4gIGNvbmZpZ1ZhbGlkYXRvcixcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL25vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTU1XCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjViNjBjY2FjLWMzMGYtNDZkOC1iN2IyLTdmOWM3ZjAwMmJlZVwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgbmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX191c2VyLW5hbWVcIixcbiAgYWJvdXRTZWxlY3RvcjogXCIucHJvZmlsZV9fdXNlci1hYm91dFwiLFxufSk7XG5cbmNvbnN0IHBvcHVwRnVsbFNjcmVlbkltZyA9IG5ldyBQb3B1cFdpdGhJbWFnZSh7XG4gIHBvcHVwU2VsZWN0b3I6IHBvcHVwUGhvdG9JdGVtU2VsZWN0b3IsXG59KTtcblxuY29uc3QgcG9wdXBEZWxldGVDYXJkID0gbmV3IFBvcHVwV2l0aNChb25maXJtYXRpb24oe1xuICBwb3B1cFNlbGVjdG9yOiBwb3B1cERlbGV0ZUl0ZW1TZWxlY3RvcixcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKCkgPT4ge1xuICAgIHBvcHVwRGVsZXRlQ2FyZC5zZXRMb2FkbmlnSXNCdG4odHJ1ZSk7XG5cbiAgICBhcGlcbiAgICAgIC5kZWxldGVDYXJkKHBvcHVwRGVsZXRlQ2FyZC5jYXJkLmlkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBwb3B1cERlbGV0ZUNhcmQuY2FyZC5kZWxldGVDYXJkKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHBvcHVwRGVsZXRlQ2FyZC5zZXRMb2FkbmlnSXNCdG4oZmFsc2UpO1xuICAgICAgICBwb3B1cERlbGV0ZUNhcmQuY2xvc2UoKTtcbiAgICAgIH0pO1xuICB9LFxufSk7XG5cbmNvbnN0IHBvcHVwRm9ybVByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6IHBvcHVwRWRpdFByb2ZpbGVTZWxlY3RvcixcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGlucHV0c1ZhbHVlKSA9PiB7XG4gICAgZm9ybVZhbGlkYXRvcnNbXCJwcm9maWxlLWZvcm1cIl0ucmVzZXRWYWxpZGF0aW9uKCk7XG4gICAgcG9wdXBGb3JtUHJvZmlsZS5zZXRMb2FkbmlnSXNCdG4odHJ1ZSk7XG5cbiAgICBhcGlcbiAgICAgIC5wYXRoVXNlckluZm8oe1xuICAgICAgICBuYW1lOiBpbnB1dHNWYWx1ZVtcInVzZXItbmFtZVwiXSxcbiAgICAgICAgYWJvdXQ6IGlucHV0c1ZhbHVlW1widXNlci1hYm91dFwiXSxcbiAgICAgIH0pXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgcG9wdXBGb3JtUHJvZmlsZS5zZXRMb2FkbmlnSXNCdG4oZmFsc2UpO1xuICAgICAgICBwb3B1cEZvcm1Qcm9maWxlLmNsb3NlKCk7XG4gICAgICB9KTtcbiAgfSxcbn0pO1xuXG5jb25zdCBwb3B1cEZvcm1QaG90byA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogcG9wdXBBZGRQaG90b1NlbGVjdG9yLFxuICBoYW5kbGVGb3JtU3VibWl0OiAoaW5wdXRzVmFsdWUpID0+IHtcbiAgICBwb3B1cEZvcm1QaG90by5zZXRMb2FkbmlnSXNCdG4odHJ1ZSk7XG5cbiAgICBhcGlcbiAgICAgIC5wb3N0Q2FyZCh7XG4gICAgICAgIG5hbWU6IGlucHV0c1ZhbHVlW1wicGhvdG8tbmFtZVwiXSxcbiAgICAgICAgbGluazogaW5wdXRzVmFsdWVbXCJwaG90by1saW5rXCJdLFxuICAgICAgfSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIHJlbmRlckdhbGxlcnlJdGVtKGRhdGEpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBwb3B1cEZvcm1QaG90by5zZXRMb2FkbmlnSXNCdG4oZmFsc2UpO1xuICAgICAgICBwb3B1cEZvcm1QaG90by5jbG9zZSgpO1xuICAgICAgfSk7XG4gIH0sXG59KTtcblxucG9wdXBGdWxsU2NyZWVuSW1nLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cEZvcm1Qcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cEZvcm1QaG90by5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBEZWxldGVDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoaXRlbSkge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoe1xuICAgIGRhdGE6IGl0ZW0sXG4gICAgdGVtcGxhdGVTZWxlY3RvcjogXCIjZ2FsbGVyeS1pdGVtLXRlbXBsYXRlXCIsXG4gICAgdXNlcklkOiB1c2VySWQsXG4gICAgaGFuZGxlRGVsZXRlQnRuQ2xpY2s6ICgpID0+IHtcbiAgICAgIHBvcHVwRGVsZXRlQ2FyZC5vcGVuKGNhcmQpO1xuICAgIH0sXG4gICAgaGFuZGxlTGlrZUJ0bkNsaWNrOiAoKSA9PiB7XG4gICAgICBpZiAoY2FyZC5faXNVc2VyTGlrZWQoKSkge1xuICAgICAgICBhcGlcbiAgICAgICAgICAuZGVsZXRlQ2FyZExpa2UoY2FyZC5pZClcbiAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgY2FyZC5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgICAgICAgICAgY2FyZC5fcmVuZGVyTGlrZUNvbnRhaW5lcigpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcGlcbiAgICAgICAgICAucHV0Q2FyZExpa2UoY2FyZC5pZClcbiAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgY2FyZC5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgICAgICAgICAgY2FyZC5fcmVuZGVyTGlrZUNvbnRhaW5lcigpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVDYXJkQ2xpY2s6ICgpID0+IHtcbiAgICAgIHBvcHVwRnVsbFNjcmVlbkltZy5vcGVuKHtcbiAgICAgICAgbmFtZTogY2FyZC5fbmFtZSxcbiAgICAgICAgbGluazogY2FyZC5fbGluayxcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xuICByZXR1cm4gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyR2FsbGVyeUl0ZW0oaXRlbSkge1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoaXRlbSk7XG4gIGdhbGxlcnlDYXJkTGlzdC5zZXRJdGVtKGNhcmRFbGVtZW50KTtcbn1cblxuY29uc3QgZ2FsbGVyeUNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oe1xuICBjb250YWluZXJTZWxlY3RvcjogZ2FsbGVyeUxpc3RTZWxlY3RvcixcbiAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgcmVuZGVyR2FsbGVyeUl0ZW0oaXRlbSk7XG4gIH0sXG59KTtcblxuY29uc3QgZ2V0SW5pdGlhbERhdGEgPSBhc3luYyAoKSA9PiB7XG4gIGF3YWl0IGFwaVxuICAgIC5nZXRJbml0aWFsVXNlckluZm8oKVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIHVzZXJJZCA9IHJlc3VsdC5faWQ7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXN1bHQpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG5cbiAgYXdhaXQgYXBpXG4gICAgLmdldEluaXRpYWxDYXJkcygpXG4gICAgLnRoZW4oKGNhcmRzKSA9PiB7XG4gICAgICBnYWxsZXJ5Q2FyZExpc3QucmVuZGVySXRlbXMoY2FyZHMucmV2ZXJzZSgpKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pO1xufTtcbmdldEluaXRpYWxEYXRhKCk7XG5cbmZ1bmN0aW9uIGVuYWJsZVZhbGlkYXRpb24oY29uZmlnKSB7XG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpKTtcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih7XG4gICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgIGZvcm1FbGVtZW50OiBmb3JtRWxlbWVudCxcbiAgICB9KTtcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xuICAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4gIH0pO1xufVxuXG5lbmFibGVWYWxpZGF0aW9uKGNvbmZpZ1ZhbGlkYXRvcik7XG5cbnByb2ZpbGVFZGl0SW5mb0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwb3B1cEZvcm1Qcm9maWxlLnNldElucHV0VmFsdWUodXNlckluZm8uZ2V0VXNlckluZm8oKSk7XG4gIGZvcm1WYWxpZGF0b3JzW1wicHJvZmlsZS1mb3JtXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xuICBwb3B1cEZvcm1Qcm9maWxlLm9wZW4oKTtcbn0pO1xuXG5wcm9maWxlQWRkR2FsbGVyeUl0ZW1CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgZm9ybVZhbGlkYXRvcnNbXCJjYXJkLWZvcm1cIl0ucmVzZXRWYWxpZGF0aW9uKCk7XG4gIHBvcHVwRm9ybVBob3RvLm9wZW4oKTtcbn0pO1xuIl0sIm5hbWVzIjpbIkFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwidGhpcyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJkYXRhIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJuYW1lIiwiYWJvdXQiLCJsaW5rIiwiY2FyZElkIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiX3JlbmRlcmVyIiwiZWxlbWVudCIsInByZXBlbmQiLCJpbm5lckhUTUwiLCJpdGVtcyIsIl9jbGVhciIsImZvckVhY2giLCJpdGVtIiwiQ2FyZCIsInRlbXBsYXRlU2VsZWN0b3IiLCJ1c2VySWQiLCJoYW5kbGVEZWxldGVCdG5DbGljayIsImhhbmRsZUxpa2VCdG5DbGljayIsImhhbmRsZUNhcmRDbGljayIsIl9uYW1lIiwiX2xpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9vd25lcklkIiwib3duZXIiLCJfaWQiLCJpZCIsIl90ZW1wbGF0ZVNlbGVjdG9yIiwiX3VzZXJJZCIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlRGVsZXRlQnRuQ2xpY2siLCJfaGFuZGxlTGlrZUJ0bkNsaWNrIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX25hbWVFbGVtZW50IiwiX3Bob3RvRWxlbWVudCIsIl9saWtlRWxlbWVudCIsIl90cmFzaEVsZW1lbnQiLCJfY291bnRMaWtlc0VsZW1lbnQiLCJ0ZXh0Q29udGVudCIsInNyYyIsImFsdCIsIl9yZW5kZXJMaWtlQ29udGFpbmVyIiwiX2lzVXNlck93bmVyIiwiX2RlbGV0ZVRyYXNoRWxlbWVudCIsIl9zZXRFdmVudExpc3RlbmVycyIsImxlbmd0aCIsIl9pc1VzZXJMaWtlZCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsInNvbWUiLCJhZGRFdmVudExpc3RlbmVyIiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJhYm91dFNlbGVjdG9yIiwiX3VzZXJOYW1lIiwiX3VzZXJBYm91dCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsIndpbmRvdyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJjbG9zZSIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoSW1hZ2UiLCJfcG9wdXBJbWciLCJfcG9wdXBOYW1lVmFsdWUiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3BvcHVwRm9ybSIsIl9pbnB1dHNWYWx1ZSIsIl9mb3JtSW5wdXRzIiwicXVlcnlTZWxlY3RvckFsbCIsIl9idG5TdWJtaXQiLCJfYnRuU3VibWl0VGV4dFZhbHVlIiwicmVzZXQiLCJpbnB1dCIsInZhbHVlIiwiaXNMb2FkaW5nIiwiZGlzYWJsZWQiLCJpbnB1dE5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsIlBvcHVwV2l0aNChb25maXJtYXRpb24iLCJjYXJkIiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiX2Zvcm1TZWxlY3RvciIsImZvcm1TZWxlY3RvciIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvblNlbGVjdG9yIiwiX2lucHV0RXJyb3JTZWxlY3RvciIsImlucHV0RXJyb3JTZWxlY3RvciIsIl9lcnJvclNlbGVjdG9yIiwiZXJyb3JTZWxlY3RvciIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJfYnV0dG9uRWxlbWVudCIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZSIsIl9lcnJvckVsZW1lbnQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGFzSW52YWxpZElucHV0IiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsInByb2ZpbGUiLCJwcm9maWxlRWRpdEluZm9CdG4iLCJwcm9maWxlQWRkR2FsbGVyeUl0ZW1CdG4iLCJmb3JtVmFsaWRhdG9ycyIsImkiLCJhcGkiLCJhdXRob3JpemF0aW9uIiwidXNlckluZm8iLCJwb3B1cEZ1bGxTY3JlZW5JbWciLCJwb3B1cERlbGV0ZUNhcmQiLCJzZXRMb2FkbmlnSXNCdG4iLCJkZWxldGVDYXJkIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZmluYWxseSIsInBvcHVwRm9ybVByb2ZpbGUiLCJpbnB1dHNWYWx1ZSIsInJlc2V0VmFsaWRhdGlvbiIsInBhdGhVc2VySW5mbyIsInNldFVzZXJJbmZvIiwicG9wdXBGb3JtUGhvdG8iLCJwb3N0Q2FyZCIsInJlbmRlckdhbGxlcnlJdGVtIiwiY2FyZEVsZW1lbnQiLCJvcGVuIiwiZGVsZXRlQ2FyZExpa2UiLCJwdXRDYXJkTGlrZSIsImdlbmVyYXRlQ2FyZCIsImNyZWF0ZUNhcmQiLCJnYWxsZXJ5Q2FyZExpc3QiLCJzZXRJdGVtIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJnZXRJbml0aWFsVXNlckluZm8iLCJyZXN1bHQiLCJnZXRJbml0aWFsQ2FyZHMiLCJjYXJkcyIsInJlbmRlckl0ZW1zIiwicmV2ZXJzZSIsImdldEluaXRpYWxEYXRhIiwidmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJlbmFibGVWYWxpZGF0aW9uIiwic2V0SW5wdXRWYWx1ZSIsImdldFVzZXJJbmZvIl0sInNvdXJjZVJvb3QiOiIifQ==